<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.17"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>MiniLua: minilua::Interpreter Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">MiniLua
								&#160;<span id="projectnumber">1.0</span>
							</div>
							<div id="projectbrief">Value tracing lua interpreter</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceminilua.html">minilua</a></li><li class="navelem"><a class="el" href="classminilua_1_1Interpreter.html">Interpreter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classminilua_1_1Interpreter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">minilua::Interpreter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="include_2MiniLua_2interpreter_8hpp_source.html">interpreter.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structminilua_1_1Interpreter_1_1Impl.html">Impl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a92b19c2ab392ab6dd649a498f21bdc98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a92b19c2ab392ab6dd649a498f21bdc98">Interpreter</a> ()</td></tr>
<tr class="separator:a92b19c2ab392ab6dd649a498f21bdc98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83531f419cab1bae4a47de8c0a573775"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a83531f419cab1bae4a47de8c0a573775">Interpreter</a> (std::string initial_source_code)</td></tr>
<tr class="separator:a83531f419cab1bae4a47de8c0a573775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b7c9312d04a728a80f96cf74a231c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#ae4b7c9312d04a728a80f96cf74a231c4">~Interpreter</a> ()</td></tr>
<tr class="separator:ae4b7c9312d04a728a80f96cf74a231c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78f7ea9b48cf8dcef52fcd52909bb9e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#ae78f7ea9b48cf8dcef52fcd52909bb9e">config</a> () -&gt; <a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a> &amp;</td></tr>
<tr class="separator:ae78f7ea9b48cf8dcef52fcd52909bb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823f85eb6808ebb8ab00b844d2966033"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a823f85eb6808ebb8ab00b844d2966033">config</a> () const -&gt; const <a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a> &amp;</td></tr>
<tr class="separator:a823f85eb6808ebb8ab00b844d2966033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152d730ec3216e3b7631834947518381"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a152d730ec3216e3b7631834947518381">set_config</a> (<a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a>)</td></tr>
<tr class="separator:a152d730ec3216e3b7631834947518381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d22cbf0a310f0d2ab078be091ef0dc"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a21d22cbf0a310f0d2ab078be091ef0dc">environment</a> () const -&gt; <a class="el" href="classminilua_1_1Environment.html">Environment</a> &amp;</td></tr>
<tr class="separator:a21d22cbf0a310f0d2ab078be091ef0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d49d7331de176e5108a8a319140ac78"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a8d49d7331de176e5108a8a319140ac78">source_code</a> () const -&gt; std::string_view</td></tr>
<tr class="separator:a8d49d7331de176e5108a8a319140ac78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb20a73723822998fa93527b12b3ee1"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#aabb20a73723822998fa93527b12b3ee1">parse</a> (std::string <a class="el" href="classminilua_1_1Interpreter.html#a8d49d7331de176e5108a8a319140ac78">source_code</a>) -&gt; <a class="el" href="structminilua_1_1ParseResult.html">ParseResult</a></td></tr>
<tr class="separator:aabb20a73723822998fa93527b12b3ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2d0d27ed5e8130f84265055a453aa9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a9a2d0d27ed5e8130f84265055a453aa9">apply_source_changes</a> (std::vector&lt; <a class="el" href="structminilua_1_1SourceChange.html">SourceChange</a> &gt;)</td></tr>
<tr class="separator:a9a2d0d27ed5e8130f84265055a453aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d8b89428d14ff81089a03b5521af22"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#a47d8b89428d14ff81089a03b5521af22">evaluate</a> () -&gt; <a class="el" href="structminilua_1_1EvalResult.html">EvalResult</a></td></tr>
<tr class="separator:a47d8b89428d14ff81089a03b5521af22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa18bb52f56c36363b0bdaa4a63a59d09"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structminilua_1_1Interpreter_1_1Impl.html">Impl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#aa18bb52f56c36363b0bdaa4a63a59d09">impl</a></td></tr>
<tr class="separator:aa18bb52f56c36363b0bdaa4a63a59d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af608fd482867a14c5d3fd9f409152481"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classminilua_1_1Interpreter.html#af608fd482867a14c5d3fd9f409152481">_config</a></td></tr>
<tr class="separator:af608fd482867a14c5d3fd9f409152481"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An interpreter instance is used to parse and evaluate lua source code.</p>
<p>You can create the interpreter with initial source code or empty source code and then update the source code by calling 'parse' and run the current source code by calling 'evaluate'.</p>
<p>You can also apply a source change that was generated by the interpreter while evaluating and get the updated source code.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Example</h1>
<div class="fragment"><div class="line"><a class="code" href="classminilua_1_1Interpreter.html">minilua::Interpreter</a> interpreter{initial_source_code};</div>
<div class="line">interpreter.<a class="code" href="classminilua_1_1Interpreter.html#aabb20a73723822998fa93527b12b3ee1">parse</a>(new_source_code);</div>
<div class="line"><span class="keyword">auto</span> res = interpreter.evaluate();</div>
<div class="line"><span class="keywordflow">if</span> (res.source_change) {</div>
<div class="line">  interpreter.apply_source_change(res.source_change);</div>
<div class="line">}</div>
<div class="line">interpreter.evaluate();</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a92b19c2ab392ab6dd649a498f21bdc98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92b19c2ab392ab6dd649a498f21bdc98">&#9670;&nbsp;</a></span>Interpreter() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">minilua::Interpreter::Interpreter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the interpreter with empty source code </p>

</div>
</div>
<a id="a83531f419cab1bae4a47de8c0a573775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83531f419cab1bae4a47de8c0a573775">&#9670;&nbsp;</a></span>Interpreter() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">minilua::Interpreter::Interpreter </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>initial_source_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the interpreter with the given source code</p>
<p>Throws an exception if there was an error parsing the source code. </p>

</div>
</div>
<a id="ae4b7c9312d04a728a80f96cf74a231c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b7c9312d04a728a80f96cf74a231c4">&#9670;&nbsp;</a></span>~Interpreter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">minilua::Interpreter::~Interpreter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9a2d0d27ed5e8130f84265055a453aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2d0d27ed5e8130f84265055a453aa9">&#9670;&nbsp;</a></span>apply_source_changes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void minilua::Interpreter::apply_source_changes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structminilua_1_1SourceChange.html">SourceChange</a> &gt;&#160;</td>
          <td class="paramname"><em>source_changes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Applies a list of single source changes. </p>

</div>
</div>
<a id="ae78f7ea9b48cf8dcef52fcd52909bb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78f7ea9b48cf8dcef52fcd52909bb9e">&#9670;&nbsp;</a></span>config() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto minilua::Interpreter::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; <a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a>&amp;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current configuration. </p>

</div>
</div>
<a id="a823f85eb6808ebb8ab00b844d2966033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823f85eb6808ebb8ab00b844d2966033">&#9670;&nbsp;</a></span>config() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto minilua::Interpreter::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt;  const <a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a> &amp;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a21d22cbf0a310f0d2ab078be091ef0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d22cbf0a310f0d2ab078be091ef0dc">&#9670;&nbsp;</a></span>environment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto minilua::Interpreter::environment </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; <a class="el" href="classminilua_1_1Environment.html">Environment</a>&amp;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the environment for modification.</p>
<p>NOTE: This will not directly be used by the interpreter so you can just reuse an existing interpreter/environment without resetting it. </p>

</div>
</div>
<a id="a47d8b89428d14ff81089a03b5521af22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47d8b89428d14ff81089a03b5521af22">&#9670;&nbsp;</a></span>evaluate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto minilua::Interpreter::evaluate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; <a class="el" href="structminilua_1_1EvalResult.html">EvalResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run the parsed program.</p>
<p>Throws an exception when there is an error in the program. E.g. when you try to add incompatible values in lua.</p>
<p>Currently this throws 'std::runtime_error'. </p>

</div>
</div>
<a id="aabb20a73723822998fa93527b12b3ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb20a73723822998fa93527b12b3ee1">&#9670;&nbsp;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto minilua::Interpreter::parse </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_code</em></td><td>)</td>
          <td> -&gt; <a class="el" href="structminilua_1_1ParseResult.html">ParseResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse fresh source code.</p>
<p>Errors are returned in '<a class="el" href="structminilua_1_1ParseResult.html">ParseResult</a>'. </p>

</div>
</div>
<a id="a152d730ec3216e3b7631834947518381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152d730ec3216e3b7631834947518381">&#9670;&nbsp;</a></span>set_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void minilua::Interpreter::set_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8d49d7331de176e5108a8a319140ac78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d49d7331de176e5108a8a319140ac78">&#9670;&nbsp;</a></span>source_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto minilua::Interpreter::source_code </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; std::string_view</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a view into the current source code.</p>
<p>The returned value will become invalid if the source code is changed (by calling parse or apply_source_changes). </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af608fd482867a14c5d3fd9f409152481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af608fd482867a14c5d3fd9f409152481">&#9670;&nbsp;</a></span>_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structminilua_1_1InterpreterConfig.html">InterpreterConfig</a> minilua::Interpreter::_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa18bb52f56c36363b0bdaa4a63a59d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa18bb52f56c36363b0bdaa4a63a59d09">&#9670;&nbsp;</a></span>impl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structminilua_1_1Interpreter_1_1Impl.html">Impl</a>&gt; minilua::Interpreter::impl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/MiniLua/MiniLua/include/MiniLua/<a class="el" href="include_2MiniLua_2interpreter_8hpp_source.html">interpreter.hpp</a></li>
<li><a class="el" href="interpreter_8cpp.html">interpreter.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassminilua_1_1Interpreter_html_aabb20a73723822998fa93527b12b3ee1"><div class="ttname"><a href="classminilua_1_1Interpreter.html#aabb20a73723822998fa93527b12b3ee1">minilua::Interpreter::parse</a></div><div class="ttdeci">auto parse(std::string source_code) -&gt; ParseResult</div><div class="ttdef"><b>Definition:</b> interpreter.cpp:70</div></div>
<div class="ttc" id="aclassminilua_1_1Interpreter_html"><div class="ttname"><a href="classminilua_1_1Interpreter.html">minilua::Interpreter</a></div><div class="ttdef"><b>Definition:</b> interpreter.hpp:96</div></div>
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>